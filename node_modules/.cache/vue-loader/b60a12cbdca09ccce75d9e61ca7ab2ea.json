{"remainingRequest":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\src\\views\\Friend.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\src\\views\\Friend.vue","mtime":1652700158838},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650607278398},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1650607250005},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650607278398},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1650607553931}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgR2V0RnJpZW5kTWVzc2FnZUFQSSwKICBHZXRVc2VySGFuZ2RlckFQSSwKfSBmcm9tICIuLi9yZXF1ZXN0L2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRnJpZW5kIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIC8v6I635Y+W5aW95Y+L6K+35rGC5YiX6KGoIOWlveWPi+WktOWDj+OAgeWlveWPi+aYteensAogICAgICBmcmllbmRfbWVzc2FnZTogW10sCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIEdldEZyaWVuZE1lc3NhZ2VBUEkoewogICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIiksCiAgICB9KQogICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzLmRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuZnJpZW5kX21lc3NhZ2UucHVzaCh7CiAgICAgICAgICAgIGlkOiByZXMuZGF0YS5vcGVyYXRpb25pZCwKICAgICAgICAgICAgdXJsOiByZXMuZGF0YS5hdmF0YXJVcmwsCiAgICAgICAgICAgIG5pY2tuYW1lOiByZXMuZGF0YS5uaWNrbmFtZSwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkKICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZnVzZShpbmRleCkgewogICAgICB0aGlzLiRjb25maXJtKAogICAgICAgICLnoa7orqTmi5Lnu50iICsgdGhpcy5mcmllbmRfbWVzc2FnZVtpbmRleF0ubmlja25hbWUgKyAi55qE5aW95Y+L6K+35rGC5ZCX77yfIiwKICAgICAgICAi5o+Q56S6IiwKICAgICAgICB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICB9CiAgICAgICkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBsZXQgYWRkaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYWRkaW1nIilbaW5kZXhdOwogICAgICAgICAgYWRkaW1nLmlubmVySFRNTCA9ICLlt7Lmi5Lnu50iOwogICAgICAgICAgYWRkaW1nLmNsYXNzTGlzdC5hZGQoIm5ld3N0eWxlIik7CiAgICAgICAgICAvL+WPkemAgeaLkue7neivt+axgue7meWQjuerrwogICAgICAgICAgR2V0VXNlckhhbmdkZXJBUEkoewogICAgICAgICAgICB2YWx1ZTogdGhpcy5mcmllbmRfbWVzc2FnZVtpbmRleF0uaWQsCiAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSwKICAgICAgICAgICAgY29kZTo2MDAwMDUKICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLlj5bmtogiKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBhZ3JlZShpbmRleCkgewogICAgICB0aGlzLiRjb25maXJtKAogICAgICAgICLnoa7orqTlkIzmhI8iICsgdGhpcy5mcmllbmRfbWVzc2FnZVtpbmRleF0ubmlja25hbWUgKyAi55qE5aW95Y+L6K+35rGC5ZCX77yfIiwKICAgICAgICAi5o+Q56S6IiwKICAgICAgICB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICB9CiAgICAgICkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBsZXQgYWRkaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYWRkaW1nIilbaW5kZXhdOwogICAgICAgICAgYWRkaW1nLmlubmVySFRNTCA9ICLlt7LlkIzmhI8iOwogICAgICAgICAgYWRkaW1nLmNsYXNzTGlzdC5hZGQoIm5ld3N0eWxlIik7CiAgICAgICAgICAvL+WPkemAgeWQjOaEj+ivt+axgue7meWQjuerrwogICAgICAgICAgR2V0VXNlckhhbmdkZXJBUEkoewogICAgICAgICAgICB2YWx1ZTogdGhpcy5mcmllbmRfbWVzc2FnZVtpbmRleF0uaWQsCiAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSwKICAgICAgICAgICAgY29kZTo2MDAwMDYKICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLlj5bmtogiKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVtZXNzYWdlKCkgewogICAgICAvL+a4heepuuWHveaVsAogICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTmuIXnqbrmiYDmnInnmoTlpb3lj4vor7fmsYLlkJfvvJ8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgLy/noa7orqTlkIzmhI8KICAgICAgICAgIHRoaXMuZnJpZW5kX21lc3NhZ2UgPSBbXTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygi5Y+W5raIIik7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Friend.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Friend.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"friend\">\n    <div class=\"newfriend\">\n      <div class=\"newfriend_top\">\n        <p>好友信息</p>\n        <img\n          src=\"../img/delete.png\"\n          alt=\"\"\n          class=\"delete\"\n          title=\"清空\"\n          @click=\"deletemessage\"\n        />\n      </div>\n      <div class=\"newfriend_center\">\n        <div\n          class=\"item\"\n          v-for=\"(item, index) in friend_message\"\n          :key=\"index + 1\"\n        >\n          <img :src=\"item.url\" alt=\"\" class=\"avatar\" />\n          <p class=\"nickname\">{{ item.nickname }}</p>\n          <p class=\"message\">请求通过验证</p>\n          <div class=\"addimg\">\n            <p class=\"refuse\" @click=\"refuse(index)\">拒绝</p>\n            <p class=\"agree\" @click=\"agree(index)\">同意</p>\n            <div class=\"movein\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  GetFriendMessageAPI,\n  GetUserHangderAPI,\n} from \"../request/api\";\nexport default {\n  name: \"Friend\",\n  data() {\n    return {\n      show: false,\n      //获取好友请求列表 好友头像、好友昵称\n      friend_message: [],\n    };\n  },\n  created() {\n    GetFriendMessageAPI({\n      token: localStorage.getItem(\"token\"),\n    })\n      .then(function (res) {\n        console.log(res.data);\n        for (let i = 0; i < res.data.length; i++) {\n          this.friend_message.push({\n            id: res.data.operationid,\n            url: res.data.avatarUrl,\n            nickname: res.data.nickname,\n          });\n        }\n      })\n      .catch(function (err) {\n        console.log(err);\n      });\n  },\n  methods: {\n    refuse(index) {\n      this.$confirm(\n        \"确认拒绝\" + this.friend_message[index].nickname + \"的好友请求吗？\",\n        \"提示\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n        }\n      )\n        .then(() => {\n          let addimg = document.getElementsByClassName(\"addimg\")[index];\n          addimg.innerHTML = \"已拒绝\";\n          addimg.classList.add(\"newstyle\");\n          //发送拒绝请求给后端\n          GetUserHangderAPI({\n            value: this.friend_message[index].id,\n            token: localStorage.getItem(\"token\"),\n            code:600005\n          })\n            .then(function (res) {\n              console.log(res);\n            })\n            .catch(function (err) {\n              console.log(err);\n            });\n        })\n        .catch(() => {\n          console.log(\"取消\");\n        });\n    },\n    agree(index) {\n      this.$confirm(\n        \"确认同意\" + this.friend_message[index].nickname + \"的好友请求吗？\",\n        \"提示\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n        }\n      )\n        .then(() => {\n          let addimg = document.getElementsByClassName(\"addimg\")[index];\n          addimg.innerHTML = \"已同意\";\n          addimg.classList.add(\"newstyle\");\n          //发送同意请求给后端\n          GetUserHangderAPI({\n            value: this.friend_message[index].id,\n            token: localStorage.getItem(\"token\"),\n            code:600006\n          })\n            .then(function (res) {\n              console.log(res);\n            })\n            .catch(function (err) {\n              console.log(err);\n            });\n        })\n        .catch(() => {\n          console.log(\"取消\");\n        });\n    },\n    deletemessage() {\n      //清空函数\n      this.$confirm(\"确认清空所有的好友请求吗？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          //确认同意\n          this.friend_message = [];\n        })\n        .catch(() => {\n          console.log(\"取消\");\n        });\n    },\n  },\n};\n</script>\n<style scoped>\n.friend {\n  position: absolute;\n  height: 100%;\n  width: calc(76% - 2px);\n  margin: 0;\n  right: 0;\n  z-index: 10;\n}\n.newfriend {\n  position: absolute;\n  background-color: #fff;\n  height: 100%;\n  width: 100%;\n}\n.newfriend_top {\n  position: absolute;\n  height: 10%;\n  width: 100%;\n  border-bottom: 1px solid #e0e0e0;\n}\n.newfriend_top p {\n  position: absolute;\n  width: auto;\n  margin: 0;\n  left: 10%;\n  top: 50%;\n  font-weight: 600;\n  transform: translate(-50%, -50%);\n  font-size: 20px;\n  text-align: center;\n}\n.newfriend_center {\n  position: absolute;\n  height: calc(90% - 1px);\n  width: 100%;\n  bottom: 0;\n  overflow-y: scroll;\n  scrollbar-color: rgba(0, 0, 0, 0.2) rgba(0, 0, 0, 0.1); /* 第一个方块颜色，第二个轨道颜色(用于更改火狐浏览器样式) */\n  scrollbar-width: thin; /* 火狐滚动条无法自定义宽度，只能通过此属性使滚动条宽度变细 */\n  -ms-overflow-style: none; /* 隐藏滚动条（在IE和Edge两个浏览器中很难更改样式，固采取隐藏方式） */\n}\n\n.item {\n  position: relative;\n  border-bottom: 2px solid #e0e0e0;\n  height: 15%;\n  width: 70%;\n  left: 15%;\n}\n.item .avatar {\n  position: absolute;\n  height: 60%;\n  top: 20%;\n  left: 5%;\n}\n.item .nickname {\n  position: absolute;\n  height: 20%;\n  width: 60%;\n  left: 18%;\n  top: 20%;\n  margin: 0;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.item .message {\n  position: absolute;\n  left: 18%;\n  top: 50%;\n  margin: 0%;\n  color: #949191;\n  font-size: x-small;\n}\n.addimg {\n  position: absolute;\n  left: 80%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  cursor: pointer;\n  border: 1px solid #e0e0e0;\n  border-radius: 10px;\n  background-color: rgb(209, 208, 208);\n  color: #fff;\n  transition: all 0.5s;\n}\n.agree,\n.refuse {\n  font-size: 10px;\n  margin: 0;\n  padding: 5px 10px 5px 10px;\n  display: inline-flex;\n}\n\n.refuse {\n  display: none;\n}\n.addimg:hover .refuse {\n  display: inline;\n}\n.movein {\n  position: absolute;\n  height: 100%;\n  width: 50%;\n  left: 0%;\n  top: 0;\n  background-color: #46a3ff;\n  z-index: -1;\n  border-radius: 10px;\n  transition: left 0.5s;\n  visibility: hidden;\n}\n.addimg:hover .movein {\n  visibility: visible;\n}\n.agree:hover + .movein {\n  left: 50%;\n}\n.refuse:hover + .movein {\n  left: 0%;\n}\n.newstyle {\n  background-color: #fff;\n  font-size: 10px;\n  border: 0;\n  color: #949191;\n}\n.delete {\n  position: absolute;\n  height: 30%;\n  bottom: 5%;\n  right: 5%;\n  cursor: pointer;\n}\n</style>"]}]}