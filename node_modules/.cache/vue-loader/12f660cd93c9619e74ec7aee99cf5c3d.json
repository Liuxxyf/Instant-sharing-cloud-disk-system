{"remainingRequest":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\src\\views\\Audio.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\src\\views\\Audio.vue","mtime":1652692773792},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650607278398},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1650607250005},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650607278398},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1650607553931}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBidXMgZnJvbSAiLi4vdXRpbHMvYnVzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBdWRpbyIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3c6IGZhbHNlLCAvL+S4jeaYvuekuumfs+S5kOahhgogICAgICBkdXJhdGlvbjogIjAwOjAwIiwgLy/ojrflj5bmrYzmm7LmgLvml7bplb8KICAgICAgY3VycmVudFRpbWU6ICIwMDowMCIsIC8v55uu5YmN5pKt5pS+55qE5pe26Ze0CiAgICAgIHNyYzogcmVxdWlyZSgiLi4vaW1nL211c2ljcGxheS5wbmciKSwgLy/lvZPliY3mkq3mlL7kuLrlgZzmraLlm77moIcKICAgICAgbXVzaWNzcmM6ICIiLCAvL+ivpemfs+S5kOaSreaUvuWcsOWdgAogICAgICBtdXNpY211c2ljT3JpZ2luTmFtZToiIiwvL+mfs+S5kOWQjQogICAgICBiYWNrZ3JvdW5kaW1nOnJlcXVpcmUoIi4uL2ltZy9tdXNpY2JhY2tncm91bmQuanBnIiksLy/pn7PkuZDmkq3mlL7lmajog4zmma/lm77niYcKICAgICAgY3VzdG9tQ29sb3I6ICIjNDA5ZWZmIiwgLy/ov5vluqbmnaHpopzoibIKICAgICAgcGxheTogZmFsc2UsIC8v6buY6K6k5pqC5YGcCiAgICAgIGNhbGN1bGF0ZVRpbWU6IDAsIC8v55uu5YmN5pi+56S65pe26Ze0CiAgICAgIGNhbGN1bGF0ZWR1cmF0aW9uOiAwLCAvL+aAu+aXtumXtAogICAgICB2YWx1ZTogMTAwLCAvL+mfs+mHj+m7mOiupOWAvAogICAgICBseXJpYzogW10sIC8v5q2M6K+N5a2Y5pS+5Yy65Z+fCiAgICAgIHdpZHRoOiAxLCAvL+i/m+W6puadoeWuveW6pgogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBidXMuJG9mZigicmVzb3VyY2VzIik7CiAgICBidXMuJG9uKCJyZXNvdXJjZXMiLCB0aGlzLmRhdGFoYW5kbGUpOwogICAgYnVzLiRvZmYoInBhdXNlaW5nIikKICAgIGJ1cy4kb24oInBhdXNlaW5nIiwgdGhpcy5wbGF5aGFuZGxlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5pWw5o2u5aSE55CGCiAgICBkYXRhaGFuZGxlKGFsbCl7CiAgICAgIGNvbnNvbGUubG9nKGFsbCkKICAgICAgdGhpcy5tdXNpY3NyYyA9ICJodHRwczovL3d3dy5uZXRkaXNjLmNsb3VkLyIgKyBhbGwuZ3JvdXBOYW1lICsgIi8iICsgYWxsLlBhdGg7CiAgICAgIHRoaXMubXVzaWNtdXNpY09yaWdpbk5hbWUgPSBhbGwubmFtZTsKICAgIH0sCiAgICBwbGF5aGFuZGxlKGRhdGEpewogICAgICBsZXQgYXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXVkaW8iKTsKICAgICAgdGhpcy5wbGF5ID0gZGF0YQogICAgICBpZiAodGhpcy5wbGF5KSB7CiAgICAgICAgLy/mkq3mlL4KICAgICAgICB0aGlzLnNyYyA9IHJlcXVpcmUoIi4uL2ltZy9tdXNpY3BhdXNlLnBuZyIpOwogICAgICAgIGF1ZGlvLnBsYXkoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+aaguWBnAogICAgICAgIHRoaXMuc3JjID0gcmVxdWlyZSgiLi4vaW1nL211c2ljcGxheS5wbmciKTsKICAgICAgICBhdWRpby5wYXVzZSgpOwogICAgICB9CiAgICAgIAogICAgfSwKICAgIC8v6K6h566X5pe26Ze05oizCiAgICBjYWxjdWxhdGlvbihhbGx0aW1lKSB7CiAgICAgIGxldCBtaW51dGUgPSBwYXJzZUludChhbGx0aW1lIC8gNjApOwogICAgICBsZXQgc2VjID0gYWxsdGltZSAlIDYwOwogICAgICBzZWMgPSBzZWMudG9GaXhlZCgwKTsKICAgICAgbGV0IGlzTTAgPSAiOiI7CiAgICAgIGlmIChtaW51dGUgPT0gMCkgewogICAgICAgIG1pbnV0ZSA9ICIwMCI7CiAgICAgIH0gZWxzZSBpZiAobWludXRlIDwgMTApIHsKICAgICAgICBtaW51dGUgPSAiMCIgKyBtaW51dGU7CiAgICAgIH0KICAgICAgaWYgKHNlYyA8IDEwKSB7CiAgICAgICAgc2VjID0gIjAiICsgc2VjOwogICAgICB9CiAgICAgIHJldHVybiBtaW51dGUgKyBpc00wICsgc2VjOwogICAgfSwKICAgIGdldER1cmF0aW9uKCkgewogICAgICBsZXQgYWxsdGltZSA9IHRoaXMuJHJlZnMuYXVkaW8uZHVyYXRpb247CiAgICAgIHRoaXMuY2FsY3VsYXRlZHVyYXRpb24gPSBhbGx0aW1lOwogICAgICAvL+aXtumXtOaIs+i9rOaNogogICAgICB0aGlzLmR1cmF0aW9uID0gdGhpcy5jYWxjdWxhdGlvbihhbGx0aW1lKTsKICAgIH0sCiAgICB1cGRhdGVUaW1lKGUpIHsKICAgICAgbGV0IHRpbWUgPSBlLnRhcmdldC5jdXJyZW50VGltZTsKICAgICAgdGhpcy5jYWxjdWxhdGVUaW1lID0gdGltZTsKICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuY2FsY3VsYXRpb24odGltZSk7CiAgICB9LAogICAgLy/ngrnlh7vmkq3mlL7ov5jmmK/mmoLlgZwKICAgIGNoYW5nZSgpIHsKICAgICAgbGV0IGF1ZGlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImF1ZGlvIik7CiAgICAgIHRoaXMucGxheSA9ICF0aGlzLnBsYXk7CiAgICAgIGlmICh0aGlzLnBsYXkpIHsKICAgICAgICAvL+aSreaUvgogICAgICAgIHRoaXMuc3JjID0gcmVxdWlyZSgiLi4vaW1nL211c2ljcGF1c2UucG5nIik7CiAgICAgICAgYXVkaW8ucGxheSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8v5pqC5YGcCiAgICAgICAgdGhpcy5zcmMgPSByZXF1aXJlKCIuLi9pbWcvbXVzaWNwbGF5LnBuZyIpOwogICAgICAgIGF1ZGlvLnBhdXNlKCk7CiAgICAgIH0KICAgIH0sCiAgICAvL+iwg+iKgumfs+mHjwogICAgdm9sdW1lKCkgewogICAgICBsZXQgdm9sdW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidm9sdW1lIilbMF07CiAgICAgIHZvbHVtZS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgIH0sCiAgICBoaWRlKCkgewogICAgICBsZXQgdm9sdW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidm9sdW1lIilbMF07CiAgICAgIHZvbHVtZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfSwKICAgIHRvb2x0aXAodmFsKSB7CiAgICAgIHRoaXMuJHJlZnMuYXVkaW8udm9sdW1lID0gdmFsIC8gMTAwOwogICAgfSwKICAgIGNsb3NlKCkgewogICAgICBsZXQgYXVkaW9kaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJhdWRpbyIpWzBdOwogICAgICBsZXQgYXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXVkaW8iKTsKICAgICAgYXVkaW9kaXYuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgdGhpcy5zcmMgPSByZXF1aXJlKCIuLi9pbWcvbXVzaWNwbGF5LnBuZyIpOwogICAgICBhdWRpby5wYXVzZSgpOwogICAgfSwKICAgIG5hcnJvdygpIHsKICAgICAgbGV0IGF1ZGlvZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYXVkaW8iKVswXTsKICAgICAgYXVkaW9kaXYuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgYnVzLiRlbWl0KCJwbGF5aW5nIixbdGhpcy5wbGF5LHRoaXMuYmFja2dyb3VuZGltZ10pOwogICAgfSwKICAgIG1vdmUoKSB7CiAgICAgIHRoaXMud2lkdGggPSAyOwogICAgfSwKICAgIG91dCgpIHsKICAgICAgdGhpcy53aWR0aCA9IDE7CiAgICB9LAogICAgZGl2Y2xpY2soZSkgewogICAgICBsZXQgYWxsd2lkdGggPSB0aGlzLiRyZWZzLmF1ZGlvX2RpdndpZHRoLm9mZnNldFdpZHRoOwogICAgICB2YXIgeCA9IGUub2Zmc2V0WDsKICAgICAgdGhpcy4kcmVmcy5hdWRpby5jdXJyZW50VGltZSA9ICh0aGlzLiRyZWZzLmF1ZGlvLmR1cmF0aW9uICogeCkgLyBhbGx3aWR0aDsKICAgICAgdGhpcy5jYWxjdWxhdGVUaW1lID0geDsKICAgICAgdGhpcy5jYWxjdWxhdGVkdXJhdGlvbiA9IGFsbHdpZHRoOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Audio.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Audio.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"audio\" @click=\"hide\">\n    <div class=\"musicplayer\">\n      <img :src=\"backgroundimg\" alt=\"\" class=\"img\" />\n      <div class=\"vague\">\n        <h1 class=\"musicname\">{{musicmusicOriginName}}</h1>\n        <audio\n          :src=\"musicsrc\"\n          preload\n          id=\"audio\"\n          loop=\"loop\"\n          @canplay=\"getDuration\"\n          @timeupdate=\"updateTime\"\n          ref=\"audio\"\n        >\n          你的浏览器不支持该音乐播放\n        </audio>\n        <!-- 旋转 -->\n        <!-- <div class=\"disc\"></div> -->\n        <!-- 播放控制栏 -->\n        <div class=\"bottom\">\n          <div\n            class=\"click\"\n            @mouseover=\"move\"\n            @mouseout=\"out\"\n            @click=\"divclick\"\n            ref=\"audio_divwidth\"\n          >\n            <el-progress\n              :percentage=\"\n                parseFloat((calculateTime / calculateduration) * 100)\n              \"\n              v-if=\"\n                !isNaN(parseFloat((calculateTime / calculateduration) * 100))\n              \"\n              :stroke-width=\"width\"\n              :text-inside=\"true\"\n            >\n            </el-progress>\n          </div>\n\n          <p class=\"lyric\">{{ currentTime }}/{{ duration }}</p>\n\n          <img\n            :src=\"src\"\n            alt=\"\"\n            class=\"musicplay\"\n            title=\"播放\"\n            @click=\"change\"\n          />\n\n          <img\n            src=\"../img/volume.png\"\n            alt=\"\"\n            class=\"musicvolume\"\n            title=\"调节音量\"\n            @click.stop=\"volume\"\n          />\n          <img src=\"../img/speed.png\" alt=\"\" class=\"speed\" title=\"倍速\" />\n        </div>\n        <div class=\"volume\" @click.stop=\"volume\">\n          <div class=\"block\">\n            <el-slider\n              v-model=\"value\"\n              vertical\n              :format-tooltip=\"tooltip\"\n              height=\"150px\"\n            >\n            </el-slider>\n          </div>\n        </div>\n        <!-- 歌词展示区域 -->\n        <div class=\"lyricshow\">\n          <!-- <p class=\"nolyric\">没有歌词</p> -->\n          <p class=\"\"></p>\n        </div>\n\n        <img\n          src=\"../img/narrow.png\"\n          alt=\"\"\n          class=\"narrow\"\n          @click=\"narrow\"\n          title=\"缩小\"\n        />\n        <img\n          src=\"../img/close.png\"\n          alt=\"\"\n          class=\"close\"\n          title=\"关闭\"\n          @click=\"close\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport bus from \"../utils/bus\";\nexport default {\n  name: \"Audio\",\n  data() {\n    return {\n      show: false, //不显示音乐框\n      duration: \"00:00\", //获取歌曲总时长\n      currentTime: \"00:00\", //目前播放的时间\n      src: require(\"../img/musicplay.png\"), //当前播放为停止图标\n      musicsrc: \"\", //该音乐播放地址\n      musicmusicOriginName:\"\",//音乐名\n      backgroundimg:require(\"../img/musicbackground.jpg\"),//音乐播放器背景图片\n      customColor: \"#409eff\", //进度条颜色\n      play: false, //默认暂停\n      calculateTime: 0, //目前显示时间\n      calculateduration: 0, //总时间\n      value: 100, //音量默认值\n      lyric: [], //歌词存放区域\n      width: 1, //进度条宽度\n    };\n  },\n  mounted() {\n    bus.$off(\"resources\");\n    bus.$on(\"resources\", this.datahandle);\n    bus.$off(\"pauseing\")\n    bus.$on(\"pauseing\", this.playhandle);\n  },\n  methods: {\n    //数据处理\n    datahandle(all){\n      console.log(all)\n      this.musicsrc = \"https://www.netdisc.cloud/\" + all.groupName + \"/\" + all.Path;\n      this.musicmusicOriginName = all.name;\n    },\n    playhandle(data){\n      let audio = document.getElementById(\"audio\");\n      this.play = data\n      if (this.play) {\n        //播放\n        this.src = require(\"../img/musicpause.png\");\n        audio.play();\n      } else {\n        //暂停\n        this.src = require(\"../img/musicplay.png\");\n        audio.pause();\n      }\n      \n    },\n    //计算时间戳\n    calculation(alltime) {\n      let minute = parseInt(alltime / 60);\n      let sec = alltime % 60;\n      sec = sec.toFixed(0);\n      let isM0 = \":\";\n      if (minute == 0) {\n        minute = \"00\";\n      } else if (minute < 10) {\n        minute = \"0\" + minute;\n      }\n      if (sec < 10) {\n        sec = \"0\" + sec;\n      }\n      return minute + isM0 + sec;\n    },\n    getDuration() {\n      let alltime = this.$refs.audio.duration;\n      this.calculateduration = alltime;\n      //时间戳转换\n      this.duration = this.calculation(alltime);\n    },\n    updateTime(e) {\n      let time = e.target.currentTime;\n      this.calculateTime = time;\n      this.currentTime = this.calculation(time);\n    },\n    //点击播放还是暂停\n    change() {\n      let audio = document.getElementById(\"audio\");\n      this.play = !this.play;\n      if (this.play) {\n        //播放\n        this.src = require(\"../img/musicpause.png\");\n        audio.play();\n      } else {\n        //暂停\n        this.src = require(\"../img/musicplay.png\");\n        audio.pause();\n      }\n    },\n    //调节音量\n    volume() {\n      let volume = document.getElementsByClassName(\"volume\")[0];\n      volume.style.display = \"block\";\n    },\n    hide() {\n      let volume = document.getElementsByClassName(\"volume\")[0];\n      volume.style.display = \"none\";\n    },\n    tooltip(val) {\n      this.$refs.audio.volume = val / 100;\n    },\n    close() {\n      let audiodiv = document.getElementsByClassName(\"audio\")[0];\n      let audio = document.getElementById(\"audio\");\n      audiodiv.style.display = \"none\";\n      this.src = require(\"../img/musicplay.png\");\n      audio.pause();\n    },\n    narrow() {\n      let audiodiv = document.getElementsByClassName(\"audio\")[0];\n      audiodiv.style.display = \"none\";\n      bus.$emit(\"playing\",[this.play,this.backgroundimg]);\n    },\n    move() {\n      this.width = 2;\n    },\n    out() {\n      this.width = 1;\n    },\n    divclick(e) {\n      let allwidth = this.$refs.audio_divwidth.offsetWidth;\n      var x = e.offsetX;\n      this.$refs.audio.currentTime = (this.$refs.audio.duration * x) / allwidth;\n      this.calculateTime = x;\n      this.calculateduration = allwidth;\n    },\n  },\n};\n</script>\n<style scoped>\n.musicplayer {\n  position: absolute;\n  height: 90%;\n  width: 80%;\n  left: 10%;\n  top: 5%;\n  background-color: black;\n  overflow: hidden;\n}\n.img {\n  position: absolute;\n  height: auto;\n  width: 100%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.vague {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.4);\n}\n#audio {\n  position: relative;\n  height: 10%;\n  width: 100%;\n}\n.bottom {\n  position: absolute;\n  height: 11%;\n  width: 100%;\n  bottom: 0;\n}\n.musicplay {\n  position: absolute;\n  height: 60%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  cursor: pointer;\n}\n.musicvolume {\n  position: absolute;\n  height: 40%;\n  top: 50%;\n  left: 80%;\n  transform: translate(-50%, -50%);\n  cursor: pointer;\n}\n.forward,\n.after,\n.speed {\n  position: absolute;\n  height: 40%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  cursor: pointer;\n}\n.forward {\n  left: 40%;\n}\n.after {\n  left: 60%;\n}\n.speed {\n  right: 2%;\n}\n.lyric {\n  position: absolute;\n  height: 30%;\n  color: #fff;\n  left: 5%;\n  top: 20%;\n  font-size: medium;\n}\n.volume {\n  position: absolute;\n  height: 200px;\n  width: 5%;\n  background-color: #fff;\n  bottom: 9%;\n  border-radius: 30px;\n  left: 78%;\n  z-index: 100;\n  display: none;\n}\n.block {\n  position: absolute;\n  left: 50%;\n  top: 8%;\n  transform: translate(-50%, 0);\n}\n.el-progress {\n  cursor: pointer;\n}\n.cover {\n  position: absolute;\n  height: 50%;\n  top: 20%;\n  left: 10%;\n}\n.disc {\n  position: absolute;\n  height: 300px;\n  width: 300px;\n  left: 10%;\n  top: 50%;\n  transform: translate(0%, -50%);\n  background-image: url(\"../img/disc.png\");\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n}\n.lyricshow {\n  position: absolute;\n  height: 80%;\n  width: 50%;\n  left: 40%;\n  top: 5%;\n  text-align: center;\n}\n.narrow,\n.close {\n  position: absolute;\n  height: 4%;\n  top: 2%;\n  cursor: pointer;\n}\n.narrow {\n  right: 4%;\n}\n.close {\n  right: 1%;\n}\n.click {\n  position: absolute;\n  width: 100%;\n}\n.musicname{\n  color: #fff;\n  text-align: center;\n  margin-top: 50px;\n}\n</style>"]}]}