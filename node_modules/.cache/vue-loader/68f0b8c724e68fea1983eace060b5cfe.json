{"remainingRequest":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\src\\views\\Loginpage.vue?vue&type=style&index=0&id=4479c0ae&scoped=true&lang=css&","dependencies":[{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\src\\views\\Loginpage.vue","mtime":1650976656652},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":1650607328327},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1650607554068},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\postcss-loader\\src\\index.js","mtime":1650607439067},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650607278398},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1650607553931}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubG9naW5wYWdlIHsKICBwb3NpdGlvbjogZml4ZWQ7CiAgaGVpZ2h0OiAxMDAlOwogIHdpZHRoOiAxMDAlOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC40KTsKICB6LWluZGV4OiA5OTsKICB2aXNpYmlsaXR5OiBoaWRkZW47Cn0KCi5hbGwgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBoZWlnaHQ6IDcwJTsKICB3aWR0aDogNTUlOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgdG9wOiA1MCU7CiAgbGVmdDogNTAlOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7Cn0KLmFsbCAuY2xvc2UgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgaGVpZ2h0OiA0JTsKICB0b3A6IDIlOwogIHJpZ2h0OiAyJTsKfQouaGVhcnQgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBoZWlnaHQ6IDEwMCU7CiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMTBweDsKICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAxMHB4Owp9Ci5sb2dpbiwKLnNpZ24gewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBoZWlnaHQ6IDkwJTsKICB3aWR0aDogNDUlOwogIGJvdHRvbTogMDsKICByaWdodDogMDsKICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTBweDsKfQouc2lnbiB7CiAgaGVpZ2h0OiAwJTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogIHZpc2liaWxpdHk6IGhpZGRlbjsKfQoubmFtZSwKLnBhc3N3b3JkLAouc2lnbl9uYW1lLAouc2lnbl9uaWNrbmFtZSwKLnNpZ25fcGhvbmUsCi5zaWduX3Bhc3N3b3JkLAouc2lnbl92ZXJpZmljYXRpb24sCi5zaWduX2VtYWlsLAoucmVxdWlyZSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGhlaWdodDogOCU7CiAgd2lkdGg6IDkwJTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDsKfQoucGFzc3dvcmQgewogIHRvcDogMzAlOwp9Ci5sb2dpbl9pbiwKLnNpZ25faW4gewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBoZWlnaHQ6IDglOwogIHdpZHRoOiA1MCU7CiAgbGVmdDogMjAlOwogIGJhY2tncm91bmQtY29sb3I6IGNvcm5mbG93ZXJibHVlOwogIGNvbG9yOiAjZmZmOwogIHRvcDogNDUlOwogIGJvcmRlcjogMDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKfQoubG9naW5faW46aG92ZXIgewogIGJhY2tncm91bmQtY29sb3I6IGRhcmtibHVlOwp9Ci5mb3JnZXQsCi5ub19jY291bnQgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDU1JTsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgZm9udC1zaXplOiBzbWFsbGVyOwogIGNvbG9yOiBkaW1ncmV5Owp9Ci5ub19jY291bnQgewogIHRvcDogNzAlOwp9Ci5zaWduX2luIHsKICB0b3A6IDgwJTsKICBiYWNrZ3JvdW5kLWNvbG9yOiBjYWRldGJsdWU7Cn0KLnNpZ25faW46aG92ZXIgewogIGJhY2tncm91bmQtY29sb3I6IGJyb3duOwp9Ci5kb3duIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgaGVpZ2h0OiAxMCU7CiAgY3Vyc29yOiBwb2ludGVyOwp9Ci5zaWduX25hbWUgewogIHRvcDogMjUlOwp9Ci5zaWduIGgxIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAxMCU7Cn0KLnNpZ25fbmlja25hbWUgewogIHRvcDogMzUlOwp9Ci5zaWduX3Bob25lIHsKICB0b3A6IDQ1JTsKfQouc2lnbl9lbWFpbCB7CiAgdG9wOiA1NSU7Cn0KLnNpZ25fcGFzc3dvcmQgewogIHRvcDogNjUlOwp9Ci5zaWduX3ZlcmlmaWNhdGlvbiB7CiAgdG9wOiA3NSU7Cn0KCi5zaWduX2J0biB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHdpZHRoOiA1MCU7CiAgbGVmdDogMjAlOwogIHRvcDogODglOwogIGhlaWdodDogOCU7CiAgYmFja2dyb3VuZC1jb2xvcjogY29ybmZsb3dlcmJsdWU7CiAgY29sb3I6ICNmZmY7CiAgYm9yZGVyOiAwOwogIGN1cnNvcjogcG9pbnRlcjsKICBib3JkZXItcmFkaXVzOiAxMHB4Owp9Ci5zaWduX2J0bjpob3ZlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogZGFya2JsdWU7Cn0KLnJlcXVpcmUgewogIHRvcDogNzUlOwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICBjb2xvcjogYmxhY2s7CiAgcmlnaHQ6IDEwJTsKICB3aWR0aDogYXV0bzsKICBmb250LXNpemU6IDEwcHg7CiAgbGluZS1oZWlnaHQ6IDQ7CiAgYm9yZGVyOiAwOwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7Cn0KLnJlcXVpcmU6aG92ZXIgewogIGNvbG9yOiBkYXJrZ3JleTsKfQoucmVkIHsKICBib3JkZXI6IDFweCBzb2xpZCByZWQ7Cn0K"},{"version":3,"sources":["Loginpage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Loginpage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"loginpage\">\n    <div class=\"all\">\n      <img\n        src=\"../img/closeloginpage.png\"\n        alt=\"\"\n        @click=\"close\"\n        class=\"close\"\n      />\n      <img src=\"../img/heart.jpg\" alt=\"\" class=\"heart\" />\n\n      <div class=\"login\">\n        <h1>登录</h1>\n        <input type=\"text\" placeholder=\"手机号\" class=\"name\" />\n        <input type=\"password\" name=\"\" placeholder=\"密码\" class=\"password\" />\n        <button class=\"login_in\" @click=\"login\">登录</button>\n        <a href=\"#\" class=\"forget\">忘记密码？</a>\n        <a href=\"#\" class=\"no_ccount\">还没账号？</a>\n        <button class=\"sign_in\" @click=\"sign\">立即注册</button>\n      </div>\n      <div class=\"sign\">\n        <img src=\"../img/down.png\" alt=\"\" class=\"down\" @click=\"down\" />\n        <h1>注册</h1>\n        <input type=\"text\" placeholder=\"真实姓名\" class=\"sign_name\" />\n        <input type=\"text\" placeholder=\"昵称\" class=\"sign_nickname\" />\n        <input type=\"text\" placeholder=\"手机号\" class=\"sign_phone\" />\n        <input type=\"text\" placeholder=\"邮箱\" class=\"sign_email\" />\n        <input type=\"password\" placeholder=\"输入密码\" class=\"sign_password\" />\n        <input type=\"text\" placeholder=\"验证码\" class=\"sign_verification\" />\n        <a href=\"#\" class=\"require\" @click=\"having\">{{ text }}</a>\n        <button class=\"sign_btn\" @click=\"sign_btn\">注册</button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport bus from \"../utils/bus\";\nimport axios from \"axios\";\nimport { PostLoginAPI, GetPhoneAPI, PostRegisterAPI } from \"../request/api.js\";\nexport default {\n  name: \"Head\",\n  data() {\n    return {\n      text: \"获取验证码\",\n      result: false,\n      username: \"\",\n    };\n  },\n  mounted() {\n    bus.$off(\"login\"); //阻止事件被触发多次\n    bus.$on(\"login\", this.show); //绑定\n  },\n  methods: {\n    show() {\n      let storagepage = document.getElementsByClassName(\"loginpage\")[0];\n      storagepage.style.visibility = \"visible\";\n    },\n    close() {\n      let storagepage = document.getElementsByClassName(\"loginpage\")[0];\n      storagepage.style.visibility = \"hidden\";\n      let sign = document.getElementsByClassName(\"sign\")[0];\n      sign.style.height = \"0%\";\n      sign.style.visibility = \"hidden\";\n      sign.style.transition = \"0s\";\n    },\n    login() {\n      let name = document.getElementsByClassName(\"name\")[0];\n      let password = document.getElementsByClassName(\"password\")[0];\n      let reg =\n        /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/;\n      let result = reg.test(name.value);\n      //发送请求校验手机号码以及密码是否正确 正确弹窗登录成功！\n      //输入正确，赋值给head.vue组件中的数据username，弹窗登录成功\n      let that = this;\n\n      PostLoginAPI({\n        account: name.value,\n        password: password.value,\n      })\n        .then(function (res) {\n          console.log(res);\n          if (res.data.code == 0) {\n            //利用localstorage存储到本地\n            localStorage.setItem(\"token\", res.headers.token);\n            localStorage.setItem(\"username\", res.data.data.nickname);\n             localStorage.setItem(\"account\", res.data.data.account);\n             localStorage.setItem(\"email\", res.data.data.email);\n             localStorage.setItem(\"avatarUrl\", res.data.data.avatarUrl);\n            //登录成功弹窗\n            bus.$emit(\"loginsucess\", \"success\");\n            //改变head组件的username，表明登录成功\n            bus.$emit(\"changeusername\", res.data.data.nickname);\n\n            //把用户的头像姓名账号发送给pearsonal组件\n            bus.$emit(\"loginmessage\", {\n              username: res.data.data.nickname,\n              account: res.data.data.account,\n              email: res.data.data.useremail,\n              avatarUrl: res.data.data.avatarUrl,\n            });\n            //获取用户的个人信息，发送给storage组件\n            bus.$emit(\"pearsonalmessage\", {\n              username: res.data.data.nickname,\n              account: res.data.data.account,\n              email: res.data.data.useremail,\n              avatarUrl: res.data.data.avatarUrl,\n            });\n            //把用户头像以及用户名发送给chart组件\n            bus.$emit(\"chartmessage\", {\n              nickname: res.data.data.nickname,\n              avatarUrl: res.data.data.avatarUrl,\n            });\n            //关闭登录界面\n            that.close();\n          } else {\n            if (res.data.code == 500210) {\n              that.$message({\n                showClose: true,\n                message: \"登录密码不能为空！\",\n                type: \"error\",\n              });\n            } else if (res.data.code == 500211) {\n              that.$message({\n                showClose: true,\n                message: \"手机号不能为空！\",\n                type: \"error\",\n              });\n            } else if (res.data.code == 500212) {\n              that.$message({\n                showClose: true,\n                message: \"手机号已存在！\",\n                type: \"error\",\n              });\n            } else if (res.data.code == 500213) {\n              that.$message({\n                showClose: true,\n                message: \"密码错误！\",\n                type: \"error\",\n              });\n            } else if (res.data.code == 500214) {\n              that.$message({\n                showClose: true,\n                message: \"登录失败！\",\n                type: \"error\",\n              });\n            }\n          }\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    },\n    sign() {\n      let sign = document.getElementsByClassName(\"sign\")[0];\n      sign.style.visibility = \"visible\";\n      sign.style.height = \"90%\";\n      sign.style.transition = \"0.5s\";\n    },\n    down() {\n      let sign = document.getElementsByClassName(\"sign\")[0];\n      sign.style.height = \"0%\";\n      sign.style.visibility = \"hidden\";\n      sign.style.transition = \"0s\";\n    },\n    //点击注册\n    sign_btn() {\n      let sign_name = document.getElementsByClassName(\"sign_name\")[0];\n      let sign_nickname = document.getElementsByClassName(\"sign_nickname\")[0];\n      let sign_phone = document.getElementsByClassName(\"sign_phone\")[0];\n      let sign_email = document.getElementsByClassName(\"sign_email\")[0];\n      let sign_password = document.getElementsByClassName(\"sign_password\")[0];\n      let sign_verification =\n        document.getElementsByClassName(\"sign_verification\")[0];\n      let that = this;\n      axios({\n        method: \"post\",\n        url: \"http://localhost:8080/register\",\n        data: {\n          nickname: sign_nickname.value,\n          username: sign_name.value,\n          account: sign_phone.value,\n          useremail: sign_email.value,\n          password: sign_password.value,\n        },\n        params: {\n          code: sign_verification.value,\n        },\n      }).then(function (res) {\n        if (res.data.code == 0) {\n          that.$message({\n            showClose: true,\n            message: \"注册成功~\",\n            type: \"success\",\n          });\n          that.down();\n        } else if (res.data.code == 500310) {\n          that.$message({\n            showClose: true,\n            message: \"注册失败\",\n            type: \"error\",\n          });\n        } else if (res.data.code == 500311) {\n          that.$message({\n            showClose: true,\n            message: \"用户信息缺失\",\n            type: \"error\",\n          });\n        } else if (res.data.code == 500312) {\n          that.$message({\n            showClose: true,\n            message: \"今天的验证次数已用完~\",\n            type: \"error\",\n          });\n        } else if (res.data.code == 500313) {\n          that.$message({\n            showClose: true,\n            message: \"验证码错误\",\n            type: \"error\",\n          });\n        }\n      });\n    },\n\n    having() {\n      if (this.text == \"获取验证码\") {\n        let sign_phone = document.getElementsByClassName(\"sign_phone\")[0];\n        let reg =\n          /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/;\n        let result = reg.test(sign_phone.value);\n        if (result) {\n          sign_phone.classList.remove(\"red\");\n          GetPhoneAPI({\n            account: sign_phone.value,\n          })\n            .then(function (res) {\n              console.log(res);\n            })\n            .catch(function (error) {\n              console.log(error);\n            });\n          this.gettime();\n        } else {\n          //错误，手机号框为红色\n          sign_phone.classList.add(\"red\");\n          //弹窗提示\n          bus.$emit(\"phone_error\", 1);\n        }\n      } else {\n        return false;\n      }\n    },\n    gettime() {\n      this.text = 120;\n      let timer = setInterval(() => {\n        if (this.text == 0) {\n          clearInterval(timer);\n          this.text = \"获取验证码\";\n        } else {\n          this.text--;\n        }\n      }, 1000);\n    },\n  },\n};\n</script>\n<style scoped>\n.loginpage {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.4);\n  z-index: 99;\n  visibility: hidden;\n}\n\n.all {\n  position: absolute;\n  height: 70%;\n  width: 55%;\n  background-color: #fff;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 10px;\n}\n.all .close {\n  position: absolute;\n  cursor: pointer;\n  height: 4%;\n  top: 2%;\n  right: 2%;\n}\n.heart {\n  position: absolute;\n  height: 100%;\n  border-bottom-left-radius: 10px;\n  border-top-left-radius: 10px;\n}\n.login,\n.sign {\n  position: absolute;\n  height: 90%;\n  width: 45%;\n  bottom: 0;\n  right: 0;\n  border-bottom-right-radius: 10px;\n}\n.sign {\n  height: 0%;\n  background-color: #fff;\n  visibility: hidden;\n}\n.name,\n.password,\n.sign_name,\n.sign_nickname,\n.sign_phone,\n.sign_password,\n.sign_verification,\n.sign_email,\n.require {\n  position: absolute;\n  height: 8%;\n  width: 90%;\n  text-align: center;\n  border: 1px solid #e0e0e0;\n}\n.password {\n  top: 30%;\n}\n.login_in,\n.sign_in {\n  position: absolute;\n  height: 8%;\n  width: 50%;\n  left: 20%;\n  background-color: cornflowerblue;\n  color: #fff;\n  top: 45%;\n  border: 0;\n  cursor: pointer;\n  border-radius: 10px;\n}\n.login_in:hover {\n  background-color: darkblue;\n}\n.forget,\n.no_ccount {\n  position: absolute;\n  top: 55%;\n  text-decoration: none;\n  font-size: smaller;\n  color: dimgrey;\n}\n.no_ccount {\n  top: 70%;\n}\n.sign_in {\n  top: 80%;\n  background-color: cadetblue;\n}\n.sign_in:hover {\n  background-color: brown;\n}\n.down {\n  position: absolute;\n  height: 10%;\n  cursor: pointer;\n}\n.sign_name {\n  top: 25%;\n}\n.sign h1 {\n  position: absolute;\n  top: 10%;\n}\n.sign_nickname {\n  top: 35%;\n}\n.sign_phone {\n  top: 45%;\n}\n.sign_email {\n  top: 55%;\n}\n.sign_password {\n  top: 65%;\n}\n.sign_verification {\n  top: 75%;\n}\n\n.sign_btn {\n  position: absolute;\n  width: 50%;\n  left: 20%;\n  top: 88%;\n  height: 8%;\n  background-color: cornflowerblue;\n  color: #fff;\n  border: 0;\n  cursor: pointer;\n  border-radius: 10px;\n}\n.sign_btn:hover {\n  background-color: darkblue;\n}\n.require {\n  top: 75%;\n  text-decoration: none;\n  color: black;\n  right: 10%;\n  width: auto;\n  font-size: 10px;\n  line-height: 4;\n  border: 0;\n  vertical-align: middle;\n}\n.require:hover {\n  color: darkgrey;\n}\n.red {\n  border: 1px solid red;\n}\n</style>"]}]}