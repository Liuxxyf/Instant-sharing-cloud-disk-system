{"remainingRequest":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\src\\views\\Friend.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\src\\views\\Friend.vue","mtime":1650972592311},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650607278398},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1650607250005},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650607278398},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1650607553931}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgR2V0RnJpZW5kTWVzc2FnZUFQSSwKICBHZXRGcmllbmRSZXF1ZXN0QVBJLAogIEdldFVzZXJIYW5nZGVyQVBJLAp9IGZyb20gIi4uL3JlcXVlc3QvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJGcmllbmQiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93OiBmYWxzZSwKICAgICAgLy/ojrflj5blpb3lj4vor7fmsYLliJfooagg5aW95Y+L5aS05YOP44CB5aW95Y+L5pi156ewCiAgICAgIGZyaWVuZF9tZXNzYWdlOiBbXSwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgR2V0RnJpZW5kTWVzc2FnZUFQSSh7CiAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSwKICAgIH0pCiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXMuZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgdGhpcy5mcmllbmRfbWVzc2FnZS5wdXNoKHsKICAgICAgICAgICAgaWQ6IHJlcy5kYXRhLm9wZXJhdGlvbmlkLAogICAgICAgICAgICB1cmw6IHJlcy5kYXRhLmF2YXRhclVybCwKICAgICAgICAgICAgbmlja25hbWU6IHJlcy5kYXRhLm5pY2tuYW1lLAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KQogICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgcmVmdXNlKGluZGV4KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oCiAgICAgICAgIuehruiupOaLkue7nSIgKyB0aGlzLmZyaWVuZF9tZXNzYWdlW2luZGV4XS5uaWNrbmFtZSArICLnmoTlpb3lj4vor7fmsYLlkJfvvJ8iLAogICAgICAgICLmj5DnpLoiLAogICAgICAgIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIH0KICAgICAgKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIGxldCBhZGRpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJhZGRpbWciKVtpbmRleF07CiAgICAgICAgICBhZGRpbWcuaW5uZXJIVE1MID0gIuW3suaLkue7nSI7CiAgICAgICAgICBhZGRpbWcuY2xhc3NMaXN0LmFkZCgibmV3c3R5bGUiKTsKICAgICAgICAgIC8v5Y+R6YCB5ouS57ud6K+35rGC57uZ5ZCO56uvCiAgICAgICAgICBHZXRVc2VySGFuZ2RlckFQSSh7CiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmZyaWVuZF9tZXNzYWdlW2luZGV4XS5pZCwKICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpLAogICAgICAgICAgICBjb2RlOjYwMDAwNQogICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coIuWPlua2iCIpOwogICAgICAgIH0pOwogICAgfSwKICAgIGFncmVlKGluZGV4KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oCiAgICAgICAgIuehruiupOWQjOaEjyIgKyB0aGlzLmZyaWVuZF9tZXNzYWdlW2luZGV4XS5uaWNrbmFtZSArICLnmoTlpb3lj4vor7fmsYLlkJfvvJ8iLAogICAgICAgICLmj5DnpLoiLAogICAgICAgIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIH0KICAgICAgKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIGxldCBhZGRpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJhZGRpbWciKVtpbmRleF07CiAgICAgICAgICBhZGRpbWcuaW5uZXJIVE1MID0gIuW3suWQjOaEjyI7CiAgICAgICAgICBhZGRpbWcuY2xhc3NMaXN0LmFkZCgibmV3c3R5bGUiKTsKICAgICAgICAgIC8v5Y+R6YCB5ZCM5oSP6K+35rGC57uZ5ZCO56uvCiAgICAgICAgICBHZXRVc2VySGFuZ2RlckFQSSh7CiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmZyaWVuZF9tZXNzYWdlW2luZGV4XS5pZCwKICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpLAogICAgICAgICAgICBjb2RlOjYwMDAwNgogICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coIuWPlua2iCIpOwogICAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZW1lc3NhZ2UoKSB7CiAgICAgIC8v5riF56m65Ye95pWwCiAgICAgIHRoaXMuJGNvbmZpcm0oIuehruiupOa4heepuuaJgOacieeahOWlveWPi+ivt+axguWQl++8nyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAvL+ehruiupOWQjOaEjwogICAgICAgICAgdGhpcy5mcmllbmRfbWVzc2FnZSA9IFtdOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLlj5bmtogiKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Friend.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Friend.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"friend\">\n    <div class=\"newfriend\">\n      <div class=\"newfriend_top\">\n        <p>好友信息</p>\n        <img\n          src=\"../img/delete.png\"\n          alt=\"\"\n          class=\"delete\"\n          title=\"清空\"\n          @click=\"deletemessage\"\n        />\n      </div>\n      <div class=\"newfriend_center\">\n        <div\n          class=\"item\"\n          v-for=\"(item, index) in friend_message\"\n          :key=\"index + 1\"\n        >\n          <img :src=\"item.url\" alt=\"\" class=\"avatar\" />\n          <p class=\"nickname\">{{ item.nickname }}</p>\n          <p class=\"message\">请求通过验证</p>\n          <div class=\"addimg\">\n            <p class=\"refuse\" @click=\"refuse(index)\">拒绝</p>\n            <p class=\"agree\" @click=\"agree(index)\">同意</p>\n            <div class=\"movein\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  GetFriendMessageAPI,\n  GetFriendRequestAPI,\n  GetUserHangderAPI,\n} from \"../request/api\";\nexport default {\n  name: \"Friend\",\n  data() {\n    return {\n      show: false,\n      //获取好友请求列表 好友头像、好友昵称\n      friend_message: [],\n    };\n  },\n  created() {\n    GetFriendMessageAPI({\n      token: localStorage.getItem(\"token\"),\n    })\n      .then(function (res) {\n        console.log(res.data);\n        for (let i = 0; i < res.data.length; i++) {\n          this.friend_message.push({\n            id: res.data.operationid,\n            url: res.data.avatarUrl,\n            nickname: res.data.nickname,\n          });\n        }\n      })\n      .catch(function (err) {\n        console.log(err);\n      });\n  },\n  methods: {\n    refuse(index) {\n      this.$confirm(\n        \"确认拒绝\" + this.friend_message[index].nickname + \"的好友请求吗？\",\n        \"提示\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n        }\n      )\n        .then(() => {\n          let addimg = document.getElementsByClassName(\"addimg\")[index];\n          addimg.innerHTML = \"已拒绝\";\n          addimg.classList.add(\"newstyle\");\n          //发送拒绝请求给后端\n          GetUserHangderAPI({\n            value: this.friend_message[index].id,\n            token: localStorage.getItem(\"token\"),\n            code:600005\n          })\n            .then(function (res) {\n              console.log(res);\n            })\n            .catch(function (err) {\n              console.log(err);\n            });\n        })\n        .catch(() => {\n          console.log(\"取消\");\n        });\n    },\n    agree(index) {\n      this.$confirm(\n        \"确认同意\" + this.friend_message[index].nickname + \"的好友请求吗？\",\n        \"提示\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n        }\n      )\n        .then(() => {\n          let addimg = document.getElementsByClassName(\"addimg\")[index];\n          addimg.innerHTML = \"已同意\";\n          addimg.classList.add(\"newstyle\");\n          //发送同意请求给后端\n          GetUserHangderAPI({\n            value: this.friend_message[index].id,\n            token: localStorage.getItem(\"token\"),\n            code:600006\n          })\n            .then(function (res) {\n              console.log(res);\n            })\n            .catch(function (err) {\n              console.log(err);\n            });\n        })\n        .catch(() => {\n          console.log(\"取消\");\n        });\n    },\n    deletemessage() {\n      //清空函数\n      this.$confirm(\"确认清空所有的好友请求吗？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          //确认同意\n          this.friend_message = [];\n        })\n        .catch(() => {\n          console.log(\"取消\");\n        });\n    },\n  },\n};\n</script>\n<style scoped>\n.friend {\n  position: absolute;\n  height: 100%;\n  width: calc(76% - 2px);\n  margin: 0;\n  right: 0;\n  z-index: 10;\n}\n.newfriend {\n  position: absolute;\n  background-color: #fff;\n  height: 100%;\n  width: 100%;\n}\n.newfriend_top {\n  position: absolute;\n  height: 10%;\n  width: 100%;\n  border-bottom: 1px solid #e0e0e0;\n}\n.newfriend_top p {\n  position: absolute;\n  width: auto;\n  margin: 0;\n  left: 10%;\n  top: 50%;\n  font-weight: 600;\n  transform: translate(-50%, -50%);\n  font-size: 20px;\n  text-align: center;\n}\n.newfriend_center {\n  position: absolute;\n  height: calc(90% - 1px);\n  width: 100%;\n  bottom: 0;\n  overflow-y: scroll;\n  scrollbar-color: rgba(0, 0, 0, 0.2) rgba(0, 0, 0, 0.1); /* 第一个方块颜色，第二个轨道颜色(用于更改火狐浏览器样式) */\n  scrollbar-width: thin; /* 火狐滚动条无法自定义宽度，只能通过此属性使滚动条宽度变细 */\n  -ms-overflow-style: none; /* 隐藏滚动条（在IE和Edge两个浏览器中很难更改样式，固采取隐藏方式） */\n}\n\n.item {\n  position: relative;\n  border-bottom: 2px solid #e0e0e0;\n  height: 15%;\n  width: 70%;\n  left: 15%;\n}\n.item .avatar {\n  position: absolute;\n  height: 60%;\n  top: 20%;\n  left: 5%;\n}\n.item .nickname {\n  position: absolute;\n  height: 20%;\n  width: 60%;\n  left: 18%;\n  top: 20%;\n  margin: 0;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.item .message {\n  position: absolute;\n  left: 18%;\n  top: 50%;\n  margin: 0%;\n  color: #949191;\n  font-size: x-small;\n}\n.addimg {\n  position: absolute;\n  left: 80%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  cursor: pointer;\n  border: 1px solid #e0e0e0;\n  border-radius: 10px;\n  background-color: rgb(209, 208, 208);\n  color: #fff;\n  transition: all 0.5s;\n}\n.agree,\n.refuse {\n  font-size: 10px;\n  margin: 0;\n  padding: 5px 10px 5px 10px;\n  display: inline-flex;\n}\n\n.refuse {\n  display: none;\n}\n.addimg:hover .refuse {\n  display: inline;\n}\n.movein {\n  position: absolute;\n  height: 100%;\n  width: 50%;\n  left: 0%;\n  top: 0;\n  background-color: #46a3ff;\n  z-index: -1;\n  border-radius: 10px;\n  transition: left 0.5s;\n  visibility: hidden;\n}\n.addimg:hover .movein {\n  visibility: visible;\n}\n.agree:hover + .movein {\n  left: 50%;\n}\n.refuse:hover + .movein {\n  left: 0%;\n}\n.newstyle {\n  background-color: #fff;\n  font-size: 10px;\n  border: 0;\n  color: #949191;\n}\n.delete {\n  position: absolute;\n  height: 30%;\n  bottom: 5%;\n  right: 5%;\n  cursor: pointer;\n}\n</style>"]}]}