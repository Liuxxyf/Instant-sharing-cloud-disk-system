{"remainingRequest":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\babel-loader\\lib\\index.js!D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\src\\views\\Friend.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\src\\views\\Friend.vue","mtime":1650972592311},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\babel.config.js","mtime":1650607078809},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650607278398},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1650607250005},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650607278398},{"path":"D:\\浏览器下载\\Instant-sharing-cloud-disk-system-master\\Instant-sharing-cloud-disk-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1650607553931}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgR2V0RnJpZW5kTWVzc2FnZUFQSSwgR2V0RnJpZW5kUmVxdWVzdEFQSSwgR2V0VXNlckhhbmdkZXJBUEkgfSBmcm9tICIuLi9yZXF1ZXN0L2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRnJpZW5kIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIC8v6I635Y+W5aW95Y+L6K+35rGC5YiX6KGoIOWlveWPi+WktOWDj+OAgeWlveWPi+aYteensAogICAgICBmcmllbmRfbWVzc2FnZTogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgR2V0RnJpZW5kTWVzc2FnZUFQSSh7CiAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzLmRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLmZyaWVuZF9tZXNzYWdlLnB1c2goewogICAgICAgICAgaWQ6IHJlcy5kYXRhLm9wZXJhdGlvbmlkLAogICAgICAgICAgdXJsOiByZXMuZGF0YS5hdmF0YXJVcmwsCiAgICAgICAgICBuaWNrbmFtZTogcmVzLmRhdGEubmlja25hbWUKICAgICAgICB9KTsKICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICByZWZ1c2U6IGZ1bmN0aW9uIHJlZnVzZShpbmRleCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgi56Gu6K6k5ouS57udIiArIHRoaXMuZnJpZW5kX21lc3NhZ2VbaW5kZXhdLm5pY2tuYW1lICsgIueahOWlveWPi+ivt+axguWQl++8nyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgYWRkaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYWRkaW1nIilbaW5kZXhdOwogICAgICAgIGFkZGltZy5pbm5lckhUTUwgPSAi5bey5ouS57udIjsKICAgICAgICBhZGRpbWcuY2xhc3NMaXN0LmFkZCgibmV3c3R5bGUiKTsgLy/lj5HpgIHmi5Lnu53or7fmsYLnu5nlkI7nq68KCiAgICAgICAgR2V0VXNlckhhbmdkZXJBUEkoewogICAgICAgICAgdmFsdWU6IF90aGlzLmZyaWVuZF9tZXNzYWdlW2luZGV4XS5pZCwKICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSwKICAgICAgICAgIGNvZGU6IDYwMDAwNQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIuWPlua2iCIpOwogICAgICB9KTsKICAgIH0sCiAgICBhZ3JlZTogZnVuY3Rpb24gYWdyZWUoaW5kZXgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTlkIzmhI8iICsgdGhpcy5mcmllbmRfbWVzc2FnZVtpbmRleF0ubmlja25hbWUgKyAi55qE5aW95Y+L6K+35rGC5ZCX77yfIiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBhZGRpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJhZGRpbWciKVtpbmRleF07CiAgICAgICAgYWRkaW1nLmlubmVySFRNTCA9ICLlt7LlkIzmhI8iOwogICAgICAgIGFkZGltZy5jbGFzc0xpc3QuYWRkKCJuZXdzdHlsZSIpOyAvL+WPkemAgeWQjOaEj+ivt+axgue7meWQjuerrwoKICAgICAgICBHZXRVc2VySGFuZ2RlckFQSSh7CiAgICAgICAgICB2YWx1ZTogX3RoaXMyLmZyaWVuZF9tZXNzYWdlW2luZGV4XS5pZCwKICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSwKICAgICAgICAgIGNvZGU6IDYwMDAwNgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIuWPlua2iCIpOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVtZXNzYWdlOiBmdW5jdGlvbiBkZWxldGVtZXNzYWdlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIC8v5riF56m65Ye95pWwCiAgICAgIHRoaXMuJGNvbmZpcm0oIuehruiupOa4heepuuaJgOacieeahOWlveWPi+ivt+axguWQl++8nyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvL+ehruiupOWQjOaEjwogICAgICAgIF90aGlzMy5mcmllbmRfbWVzc2FnZSA9IFtdOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIuWPlua2iCIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,SACAA,mBADA,EAEAC,mBAFA,EAGAC,iBAHA,QAIA,gBAJA;AAKA;AACAC,gBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,iBADA;AAEA;AACAC;AAHA;AAKA,GARA;AASAC,SATA,qBASA;AACAP;AACAQ;AADA,OAGAC,IAHA,CAGA;AACAC;;AACA;AACA;AACAC,kCADA;AAEAC,iCAFA;AAGAC;AAHA;AAKA;AACA,KAZA,EAaAC,KAbA,CAaA;AACAJ;AACA,KAfA;AAgBA,GA1BA;AA2BAK;AACAC,UADA,kBACAC,KADA,EACA;AAAA;;AACA,oBACA,wDADA,EAEA,IAFA,EAGA;AACAC,+BADA;AAEAC,8BAFA;AAGAC;AAHA,OAHA,EASAX,IATA,CASA;AACA;AACAY;AACAA,yCAHA,CAIA;;AACAnB;AACAoB,+CADA;AAEAd,8CAFA;AAGAe;AAHA,WAKAd,IALA,CAKA;AACAC;AACA,SAPA,EAQAI,KARA,CAQA;AACAJ;AACA,SAVA;AAWA,OAzBA,EA0BAI,KA1BA,CA0BA;AACAJ;AACA,OA5BA;AA6BA,KA/BA;AAgCAc,SAhCA,iBAgCAP,KAhCA,EAgCA;AAAA;;AACA,oBACA,wDADA,EAEA,IAFA,EAGA;AACAC,+BADA;AAEAC,8BAFA;AAGAC;AAHA,OAHA,EASAX,IATA,CASA;AACA;AACAY;AACAA,yCAHA,CAIA;;AACAnB;AACAoB,gDADA;AAEAd,8CAFA;AAGAe;AAHA,WAKAd,IALA,CAKA;AACAC;AACA,SAPA,EAQAI,KARA,CAQA;AACAJ;AACA,SAVA;AAWA,OAzBA,EA0BAI,KA1BA,CA0BA;AACAJ;AACA,OA5BA;AA6BA,KA9DA;AA+DAe,iBA/DA,2BA+DA;AAAA;;AACA;AACA;AACAP,+BADA;AAEAC,8BAFA;AAGAC;AAHA,SAKAX,IALA,CAKA;AACA;AACA;AACA,OARA,EASAK,KATA,CASA;AACAJ;AACA,OAXA;AAYA;AA7EA;AA3BA","names":["GetFriendMessageAPI","GetFriendRequestAPI","GetUserHangderAPI","name","data","show","friend_message","created","token","then","console","id","url","nickname","catch","methods","refuse","index","confirmButtonText","cancelButtonText","type","addimg","value","code","agree","deletemessage"],"sourceRoot":"src/views","sources":["Friend.vue"],"sourcesContent":["<template>\n  <div class=\"friend\">\n    <div class=\"newfriend\">\n      <div class=\"newfriend_top\">\n        <p>好友信息</p>\n        <img\n          src=\"../img/delete.png\"\n          alt=\"\"\n          class=\"delete\"\n          title=\"清空\"\n          @click=\"deletemessage\"\n        />\n      </div>\n      <div class=\"newfriend_center\">\n        <div\n          class=\"item\"\n          v-for=\"(item, index) in friend_message\"\n          :key=\"index + 1\"\n        >\n          <img :src=\"item.url\" alt=\"\" class=\"avatar\" />\n          <p class=\"nickname\">{{ item.nickname }}</p>\n          <p class=\"message\">请求通过验证</p>\n          <div class=\"addimg\">\n            <p class=\"refuse\" @click=\"refuse(index)\">拒绝</p>\n            <p class=\"agree\" @click=\"agree(index)\">同意</p>\n            <div class=\"movein\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  GetFriendMessageAPI,\n  GetFriendRequestAPI,\n  GetUserHangderAPI,\n} from \"../request/api\";\nexport default {\n  name: \"Friend\",\n  data() {\n    return {\n      show: false,\n      //获取好友请求列表 好友头像、好友昵称\n      friend_message: [],\n    };\n  },\n  created() {\n    GetFriendMessageAPI({\n      token: localStorage.getItem(\"token\"),\n    })\n      .then(function (res) {\n        console.log(res.data);\n        for (let i = 0; i < res.data.length; i++) {\n          this.friend_message.push({\n            id: res.data.operationid,\n            url: res.data.avatarUrl,\n            nickname: res.data.nickname,\n          });\n        }\n      })\n      .catch(function (err) {\n        console.log(err);\n      });\n  },\n  methods: {\n    refuse(index) {\n      this.$confirm(\n        \"确认拒绝\" + this.friend_message[index].nickname + \"的好友请求吗？\",\n        \"提示\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n        }\n      )\n        .then(() => {\n          let addimg = document.getElementsByClassName(\"addimg\")[index];\n          addimg.innerHTML = \"已拒绝\";\n          addimg.classList.add(\"newstyle\");\n          //发送拒绝请求给后端\n          GetUserHangderAPI({\n            value: this.friend_message[index].id,\n            token: localStorage.getItem(\"token\"),\n            code:600005\n          })\n            .then(function (res) {\n              console.log(res);\n            })\n            .catch(function (err) {\n              console.log(err);\n            });\n        })\n        .catch(() => {\n          console.log(\"取消\");\n        });\n    },\n    agree(index) {\n      this.$confirm(\n        \"确认同意\" + this.friend_message[index].nickname + \"的好友请求吗？\",\n        \"提示\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n        }\n      )\n        .then(() => {\n          let addimg = document.getElementsByClassName(\"addimg\")[index];\n          addimg.innerHTML = \"已同意\";\n          addimg.classList.add(\"newstyle\");\n          //发送同意请求给后端\n          GetUserHangderAPI({\n            value: this.friend_message[index].id,\n            token: localStorage.getItem(\"token\"),\n            code:600006\n          })\n            .then(function (res) {\n              console.log(res);\n            })\n            .catch(function (err) {\n              console.log(err);\n            });\n        })\n        .catch(() => {\n          console.log(\"取消\");\n        });\n    },\n    deletemessage() {\n      //清空函数\n      this.$confirm(\"确认清空所有的好友请求吗？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          //确认同意\n          this.friend_message = [];\n        })\n        .catch(() => {\n          console.log(\"取消\");\n        });\n    },\n  },\n};\n</script>\n<style scoped>\n.friend {\n  position: absolute;\n  height: 100%;\n  width: calc(76% - 2px);\n  margin: 0;\n  right: 0;\n  z-index: 10;\n}\n.newfriend {\n  position: absolute;\n  background-color: #fff;\n  height: 100%;\n  width: 100%;\n}\n.newfriend_top {\n  position: absolute;\n  height: 10%;\n  width: 100%;\n  border-bottom: 1px solid #e0e0e0;\n}\n.newfriend_top p {\n  position: absolute;\n  width: auto;\n  margin: 0;\n  left: 10%;\n  top: 50%;\n  font-weight: 600;\n  transform: translate(-50%, -50%);\n  font-size: 20px;\n  text-align: center;\n}\n.newfriend_center {\n  position: absolute;\n  height: calc(90% - 1px);\n  width: 100%;\n  bottom: 0;\n  overflow-y: scroll;\n  scrollbar-color: rgba(0, 0, 0, 0.2) rgba(0, 0, 0, 0.1); /* 第一个方块颜色，第二个轨道颜色(用于更改火狐浏览器样式) */\n  scrollbar-width: thin; /* 火狐滚动条无法自定义宽度，只能通过此属性使滚动条宽度变细 */\n  -ms-overflow-style: none; /* 隐藏滚动条（在IE和Edge两个浏览器中很难更改样式，固采取隐藏方式） */\n}\n\n.item {\n  position: relative;\n  border-bottom: 2px solid #e0e0e0;\n  height: 15%;\n  width: 70%;\n  left: 15%;\n}\n.item .avatar {\n  position: absolute;\n  height: 60%;\n  top: 20%;\n  left: 5%;\n}\n.item .nickname {\n  position: absolute;\n  height: 20%;\n  width: 60%;\n  left: 18%;\n  top: 20%;\n  margin: 0;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.item .message {\n  position: absolute;\n  left: 18%;\n  top: 50%;\n  margin: 0%;\n  color: #949191;\n  font-size: x-small;\n}\n.addimg {\n  position: absolute;\n  left: 80%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  cursor: pointer;\n  border: 1px solid #e0e0e0;\n  border-radius: 10px;\n  background-color: rgb(209, 208, 208);\n  color: #fff;\n  transition: all 0.5s;\n}\n.agree,\n.refuse {\n  font-size: 10px;\n  margin: 0;\n  padding: 5px 10px 5px 10px;\n  display: inline-flex;\n}\n\n.refuse {\n  display: none;\n}\n.addimg:hover .refuse {\n  display: inline;\n}\n.movein {\n  position: absolute;\n  height: 100%;\n  width: 50%;\n  left: 0%;\n  top: 0;\n  background-color: #46a3ff;\n  z-index: -1;\n  border-radius: 10px;\n  transition: left 0.5s;\n  visibility: hidden;\n}\n.addimg:hover .movein {\n  visibility: visible;\n}\n.agree:hover + .movein {\n  left: 50%;\n}\n.refuse:hover + .movein {\n  left: 0%;\n}\n.newstyle {\n  background-color: #fff;\n  font-size: 10px;\n  border: 0;\n  color: #949191;\n}\n.delete {\n  position: absolute;\n  height: 30%;\n  bottom: 5%;\n  right: 5%;\n  cursor: pointer;\n}\n</style>"]}]}